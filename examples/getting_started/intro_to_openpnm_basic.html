
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Tutorial 1 - Basic &#8212; OpenPNM 2.8.2.dev111141 documentation</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'examples/getting_started/intro_to_openpnm_basic';</script>
    <script src="../../_static/js/custom.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorial 2 - Intermediate" href="intro_to_openpnm_intermediate.html" />
    <link rel="prev" title="Concise Overview of OpenPNM" href="concise_overview_of_openpnm.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fas fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/openpnm_logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/openpnm_logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class=" navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../user_guide/installation.html">
                        Installation
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../user_guide/index.html">
                        User Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../modules/index.html">
                        Module Reference
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../../examples_index.html">
                        Examples
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/issues">Issue Tracker<i class="fas fa-external-link-alt"></i></a>
            </li>
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/discussions">Get Help<i class="fas fa-external-link-alt"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/PMEAL/OpenPNM" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://twitter.com/OpenPNM" title="Twitter" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search">
  <i class="fas fa-search"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fas fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../../user_guide/installation.html">
                        Installation
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../user_guide/index.html">
                        User Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../modules/index.html">
                        Module Reference
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../../examples_index.html">
                        Examples
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/issues">Issue Tracker<i class="fas fa-external-link-alt"></i></a>
            </li>
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/discussions">Get Help<i class="fas fa-external-link-alt"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://github.com/PMEAL/OpenPNM" title="GitHub" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          <a href="https://twitter.com/OpenPNM" title="Twitter" class="nav-link" rel="noopener" target="_blank"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="concise_overview_of_openpnm.html">
   Concise Overview of OpenPNM
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Tutorial 1 - Basic
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro_to_openpnm_intermediate.html">
   Tutorial 2 - Intermediate
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="quick_plotting_networks.html">
   Quick Plotting Networks
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/adding_boundary_pores.html">
   Adding Boundary Pores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/coupling_continuum_regions_with_pore_networks.html">
   Stitch Two Networks with Different Spacing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/cubic_networks.html">
   Cubic Lattice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/cubic_templates.html">
   Cubic Template
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/dual_cubic_lattices.html">
   Dual Cubic Lattice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/finding_neighbor_pores_and_throats.html">
   Querying the Topology to Find Neighbors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/manually_adding_pores_and_throats.html">
   Manually Adding and Removing Pores and Throats
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/random_networks_based_on_delaunay_and_voronoi_tessellations.html">
   Delaunay and Voronoi Tessalation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/network/stitching_and_merging_networks_together.html">
   Stitching and Merging Networks
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/geometry/adjusting_pore_size_distributions.html">
   Adjusting Pore Size Distributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/geometry/stick_and_ball.html">
   The Stick and Ball Geometry
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/phase/empty_example.html">
   Empty example!
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/physics/pore_scale_models.html">
   Pore Scale Models
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/A_ordinary_percolation.html">
   Ordinary Percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/B_invasion_percolation.html">
   Invasion Percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/C_mixed_invasion_percolation.html">
   Mixed Invasion Percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/D_meniscus_model_comparison.html">
   Meniscus Model Comparison
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/capillary_pressure_curves.html">
   Mercury Intrusion Porosimetry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/relative_diffusivity.html">
   Relative Diffusivity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/percolation/relative_permeability_metrics.html">
   Relative Permeability
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/steady_state/continuum_heat_transfer.html">
   Fourier Conduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/steady_state/deep_dive_into_conductance_models.html">
   Deep Dive into Conductance Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/steady_state/diffusion_with_concentration_dependent_diffusivity.html">
   Fickian Diffusion with Variable Diffusivity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/steady_state/fickian_diffusion_and_tortuosity.html">
   Fickian Diffusion and Tortuosity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/steady_state/stokes_flow_and_permeability_tensor.html">
   Stokes Flow and Permeability Tensor
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/reactive/diffusion_with_source_and_sink_terms.html">
   Fickian Diffusion with Reaction
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/transient/transient_advection_diffusion.html">
   Transient Advection-Diffusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/transient/transient_fickian_diffusion.html">
   Transient Fickian Diffusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/transient/transient_fickian_diffusion_with_reaction.html">
   Transient Fickian Diffusion with Reaction
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../simulations/multiphysics/advection_diffusion.html">
   Advection-Diffusion
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../contrib/fibrous_media_based_on_voronoi_tessellation.html">
   Fibrous Media with Voronoi Tessellations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contrib/loading_statoil_finding_permeability.html">
   Part 1: Import Networks from Statoil Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contrib/maze_solver.html">
   Maze Solver
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contrib/ordinary_percolation.html">
   Simulating Drainage with Ordinary Percolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contrib/predicting_effective_permeability_of_berea.html">
   Predicting Permeability of Berea
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/class_inheritance/creating_a_custom_phase.html">
   Creating a Custom Phase
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/class_inheritance/overview_of_inheritance.html">
   Overview of Inheritance
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/data_management/data_and_topology_storage.html">
   Storage of Network Data and Topology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/data_management/data_exchange_between_objects.html">
   Data Exchange Between Objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/data_management/interleaving_data.html">
   Interleaving Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/data_management/using_and_creating_labels.html">
   Using and Creating Labels
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/settings/deep_dive_into_the_settings_attribute.html">
   Overview of the Settings Attribute
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/settings/understanding_basic_transport_settings.html">
   Understanding Basic Transport Settings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/settings/understanding_reactive_transport_settings.html">
   Understanding Reactive Transport Settings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/settings/understanding_transient_transport_settings.html">
   Understanding Transient Transport Settings
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/solvers/available_matrix_solvers.html">
   Available Matrix Solvers
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/workspace/overview_of_subdomains.html">
   Overview of Subdomains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/workspace/overview_of_workspace_and_projects.html">
   The Workspace and Projects
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/intro_to_openpnm_advanced.html">
   Tutorial 3 - Advanced
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/managing_geometrical_properties_of_imported_networks.html">
   Geometry of Imported Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/overview_of_domain_syntax.html">
   OpenPNM Version 3: The new @domain syntax
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/overview_of_shape_factors.html">
   Overview of Shape Factors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/the_problem_with_domain_length_and_area.html">
   Problem with Domain Area and Length
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../reference/uncategorized/working_with_extracted_networks.html">
   Working with Extracted Networks
  </a>
 </li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 0;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Tutorial-1---Basic">
<h1>Tutorial 1 - Basic<a class="headerlink" href="#Tutorial-1---Basic" title="Permalink to this headline">#</a></h1>
<section id="Tutorial-1-of-3:-Getting-Started-with-OpenPNM">
<h2>Tutorial 1 of 3: Getting Started with OpenPNM<a class="headerlink" href="#Tutorial-1-of-3:-Getting-Started-with-OpenPNM" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>This tutorial is intended to show the basic outline of how OpenPNM works, and necessarily skips many of the more useful and powerful features of the package. So if you find yourself asking “why is this step so labor intensive” it’s probably because this tutorial deliberately simplifies some features to provide a more smooth introduction. The second and third tutorials dive into the package more deeply, but those features are best appreciated once the basics are understood.</p>
</div></blockquote>
<p><strong>Learning Objectives</strong></p>
<ul class="simple">
<li><p>Introduce the main OpenPNM objects and their roles</p></li>
<li><p>Explore the way OpenPNM stores data, including network topology</p></li>
<li><p>Learn some handy tools for working with objects</p></li>
<li><p>Generate a standard cubic <strong>Network</strong> topology</p></li>
<li><p>Calculate geometrical properties and assign them to a <strong>Geometry</strong> object</p></li>
<li><p>Calculate thermophysical properties and assign to a <strong>Phase</strong> object</p></li>
<li><p>Define pore-scale physics and assign transport parameters to a <strong>Physics</strong> object</p></li>
<li><p>Run a permeability simulation using the pre-defined <strong>Algorithm</strong></p></li>
<li><p>Use the package to calculate the permeability coefficient of a porous media</p></li>
</ul>
<blockquote>
<div><p><strong>Python and Numpy Tutorials</strong></p>
<p>Before diving into OpenPNM it is probably a good idea to become familar with Python and Numpy. The following resources should be helpful. * OpenPNM is written in Python. One of the best guides to learning Python is the set of Tutorials available on the <a class="reference external" href="https://docs.python.org/3.5/tutorial">official Python website</a>. The web is literally overrun with excellent Python tutorials owing to the popularity and importance of the language. The official Python website also provides <a class="reference external" href="https://www.python.org/about/gettingstarted/">a long list of
resources</a> * For information on using Numpy, Scipy and generally doing scientific computing in Python checkout the <a class="reference external" href="http://www.scipy-lectures.org/">Scipy lecture notes</a>. The Scipy website also offers as solid introduction to <a class="reference external" href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html">using Numpy arrays</a>. * The <a class="reference external" href="http://www.stackoverflow.com">Stackoverflow</a> website is an incredible resource for all computing related questions,
including simple usage of Python, Scipy and Numpy functions. * For users more familiar with Matlab, there is a <a class="reference external" href="http://mathesaurus.sourceforge.net/matlab-numpy.html">Matlab-Numpy cheat sheet</a> that explains how to translate familiar Matlab commands to Numpy.</p>
</div></blockquote>
</section>
<section id="Overview-of-Data-Storage-in-OpenPNM">
<h2>Overview of Data Storage in OpenPNM<a class="headerlink" href="#Overview-of-Data-Storage-in-OpenPNM" title="Permalink to this headline">#</a></h2>
<p>Before creating an OpenPNM simulation it is necessary to give a quick description of how data is stored in OpenPNM; after all, a significant part of OpenPNM is dedicated to data storage and handling.</p>
<section id="Python-Dictionaries-or-dicts">
<h3>Python Dictionaries or <em>dicts</em><a class="headerlink" href="#Python-Dictionaries-or-dicts" title="Permalink to this headline">#</a></h3>
<p>OpenPNM employs 5 main objects which each store and manage a different type of information or data:</p>
<ul class="simple">
<li><p><strong>Network</strong>: Manages topological data such as pore spatial locations and pore-to-pore connections</p></li>
<li><p><strong>Geometry</strong>: Manages geometrical properties such as pore diameter and throat length</p></li>
<li><p><strong>Phase</strong>: Manages thermophysical properties such as temperature and viscosity</p></li>
<li><p><strong>Physics</strong>: Manages pore-scale transport parameters such as hydraulic conductance</p></li>
<li><p><strong>Algorithm</strong>: Contains algorithms that use the data from other objects to perform simulations, such as diffusion or drainage</p></li>
</ul>
<p>We will encounter each of these objects in action before the end of this tutorial.</p>
<p>Each of the above objects is a <em>subclass</em> of the Python <em>dictionary</em> or <em>dict</em>, which is a very general storage container that allows values to be accessed by a name using syntax like:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>       <span class="c1"># Create an empty dict</span>
<span class="n">foo</span><span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>     <span class="c1"># Store an integer under the key &#39;bar&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="s1">&#39;bar&#39;</span><span class="p">])</span>  <span class="c1"># Retrieve the integer stored in &#39;bar&#39;</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<p>A detailed tutorial on dictionaries <a class="reference external" href="http://learnpythonthehardway.org/book/ex39.html">can be found here</a>. The <em>dict</em> does not offer much functionality aside from basic storage of arbitrary objects, and it is meant to be extended. OpenPNM extends the <em>dict</em> to have functionality specifically suited for dealing with OpenPNM data.</p>
</section>
<section id="Numpy-Arrays-of-Pore-and-Throat-Data">
<h3><em>Numpy</em> Arrays of Pore and Throat Data<a class="headerlink" href="#Numpy-Arrays-of-Pore-and-Throat-Data" title="Permalink to this headline">#</a></h3>
<p>All data are stored in arrays which can accessed using standard array syntax.</p>
<ul class="simple">
<li><p>All pore and throat properties are stored in <a class="reference external" href="https://docs.scipy.org/doc/numpy-dev/user/quickstart.html">Numpy arrays</a>. All data will be automatically converted to a <em>Numpy</em> array if necessary.</p></li>
<li><p>The data for pore <em>i</em> (or throat <em>i</em>) can be found in element of <em>i</em> of an array. This means that pores and throat have indices which are implied by their position in arrays. When we speak of retrieving pore locations, it refers to the indices in the <em>Numpy</em> arrays.</p></li>
<li><p>Each property is stored in it’s own array, meaning that ‘pore diameter’ and ‘throat volume’ are each stored in a separate array.</p></li>
<li><p>Arrays that store pore data are <em>Np</em>-long, while arrays that store throat data are <em>Nt</em>-long, where <em>Np</em> is the number of pores and <em>Nt</em> is the number of throats in the network.</p></li>
<li><p>Arrays can be any size in the other dimensions. For instance, triplets of pore coordinates (i.e. [x, y, z]) can be stored for each pore creating an <em>Np-by-3</em> array.</p></li>
<li><p>The storage of topological connections is also very nicely accomplished with this ‘list-based’ format, by creating an array (<code class="docutils literal notranslate"><span class="pre">'throat.conns'</span></code>) that stores which pore indices are found on either end of a throat. This leads to an <em>Nt-by-2</em> array.</p></li>
</ul>
</section>
<section id="OpenPNM-Objects:-Combining-dicts-and-Numpy-Arrays">
<h3>OpenPNM Objects: Combining <em>dicts</em> and <em>Numpy</em> Arrays<a class="headerlink" href="#OpenPNM-Objects:-Combining-dicts-and-Numpy-Arrays" title="Permalink to this headline">#</a></h3>
<p>OpenPNM objects combine the above two levels of data storage, meaning they are <em>dicts</em> that are filled with <em>Numpy</em> arrays. OpenPNM enforces several rules to help maintain data consistency:</p>
<ul class="simple">
<li><p>When storing arrays in an OpenPNM object, their name (or <em>dictionary key</em>) must be prefixed with <code class="docutils literal notranslate"><span class="pre">'pore.'</span></code> or <code class="docutils literal notranslate"><span class="pre">'throat.'</span></code>.</p></li>
<li><p>OpenPNM uses the prefix of the <em>dictionary key</em> to infer how long the array must be.</p></li>
<li><p>The specific property that is stored in each array is indicated by the suffix such as <code class="docutils literal notranslate"><span class="pre">'pore.diameter'</span></code> or <code class="docutils literal notranslate"><span class="pre">'throat.length'</span></code>.</p></li>
<li><p>Writing scalar values to OpenPNM objects automatically results in conversion to a full length array filled with the scalar value.</p></li>
<li><p>Arrays containing <em>Boolean</em> data are treated as <em>labels</em>, which are explained later in this tutorial.</p></li>
</ul>
<p>The following code snippets give examples of how all these pieces fit together using an empty network as an example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">openpnm</span> <span class="k">as</span> <span class="nn">op</span>
<span class="o">%</span><span class="k">config</span> InlineBackend.figure_formats = [&#39;svg&#39;]
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Instantiate an empty network object with 10 pores and 10 throats</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">GenericNetwork</span><span class="p">(</span><span class="n">Np</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">Nt</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="c1"># Assign an Np-long array of ones</span>
<span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="n">net</span><span class="o">.</span><span class="n">Np</span><span class="p">,</span> <span class="p">])</span>
<span class="c1"># Assign an Np-long array of increasing ints</span>
<span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.bar&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">net</span><span class="o">.</span><span class="n">Np</span><span class="p">)</span>
<span class="c1"># The Python range iterator is converted to a proper Numpy array</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.bar&#39;</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [2], line 7</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> np<span style="color: rgb(98,98,98)">.</span>random<span style="color: rgb(98,98,98)">.</span>seed(<span style="color: rgb(98,98,98)">10</span>)
<span class="ansi-green-intense-fg ansi-bold">      6</span> <span style="color: rgb(95,135,135)"># Instantiate an empty network object with 10 pores and 10 throats</span>
<span class="ansi-green-fg">----&gt; 7</span> net <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">op</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">network</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">GenericNetwork</span>(Np<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">10</span>, Nt<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">10</span>)
<span class="ansi-green-intense-fg ansi-bold">      8</span> <span style="color: rgb(95,135,135)"># Assign an Np-long array of ones</span>
<span class="ansi-green-intense-fg ansi-bold">      9</span> net[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.foo</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> np<span style="color: rgb(98,98,98)">.</span>ones([net<span style="color: rgb(98,98,98)">.</span>Np, ])

<span class="ansi-red-fg">AttributeError</span>: module &#39;openpnm.network&#39; has no attribute &#39;GenericNetwork&#39;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.foo&#39;</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mf">44.0</span>  <span class="c1"># Overwrite values in the array</span>
<span class="nb">print</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.foo&#39;</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>  <span class="c1"># Retrieve values from the array</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [3], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">net</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.foo</span><span style="color: rgb(175,0,0)">&#39;</span>][<span style="color: rgb(98,98,98)">4</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">44.0</span>  <span style="color: rgb(95,135,135)"># Overwrite values in the array</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> <span style="color: rgb(0,135,0)">print</span>(net[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.foo</span><span style="color: rgb(175,0,0)">&#39;</span>][<span style="color: rgb(98,98,98)">4</span>])

<span class="ansi-red-fg">NameError</span>: name &#39;net&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.foo&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>  <span class="c1"># Extract a slice of the array</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [4], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">net</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.foo</span><span style="color: rgb(175,0,0)">&#39;</span>][<span style="color: rgb(98,98,98)">2</span>:<span style="color: rgb(98,98,98)">6</span>])

<span class="ansi-red-fg">NameError</span>: name &#39;net&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;pore.foo&#39;</span><span class="p">][[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>  <span class="c1"># Extract specific locations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [5], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">net</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.foo</span><span style="color: rgb(175,0,0)">&#39;</span>][[<span style="color: rgb(98,98,98)">2</span>, <span style="color: rgb(98,98,98)">4</span>, <span style="color: rgb(98,98,98)">6</span>]])

<span class="ansi-red-fg">NameError</span>: name &#39;net&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;throat.foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>          <span class="c1"># Assign a scalar</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;throat.foo&#39;</span><span class="p">]))</span>  <span class="c1"># The scalar values is converted to an Nt-long array</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [6], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">net</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.foo</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">2</span>          <span style="color: rgb(95,135,135)"># Assign a scalar</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> <span style="color: rgb(0,135,0)">print</span>(<span style="color: rgb(0,135,0)">len</span>(net[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.foo</span><span style="color: rgb(175,0,0)">&#39;</span>]))

<span class="ansi-red-fg">NameError</span>: name &#39;net&#39; is not defined
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">net</span><span class="p">[</span><span class="s1">&#39;throat.foo&#39;</span><span class="p">][</span><span class="mi">4</span><span class="p">])</span>    <span class="c1"># The scalar value was placed into all locations</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [7], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span style="color: rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">net</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.foo</span><span style="color: rgb(175,0,0)">&#39;</span>][<span style="color: rgb(98,98,98)">4</span>])

<span class="ansi-red-fg">NameError</span>: name &#39;net&#39; is not defined
</pre></div></div>
</div>
</section>
</section>
<section id="Generate-a-Cubic-Network">
<h2>Generate a Cubic Network<a class="headerlink" href="#Generate-a-Cubic-Network" title="Permalink to this headline">#</a></h2>
<p>Now that we have seen the rough outline of how OpenPNM objects store data, we can begin building a simulation. Start by importing OpenPNM and the Scipy package:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openpnm</span> <span class="k">as</span> <span class="nn">op</span>
<span class="o">%</span><span class="k">config</span> InlineBackend.figure_formats = [&#39;svg&#39;]
<span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
</pre></div>
</div>
</div>
<p>Next, generate a <strong>Network</strong> by choosing the <strong>Cubic</strong> class, then create an <em>instance</em> with the desired parameters:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pn</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">Cubic</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">spacing</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <strong>Network</strong> object stored in <code class="docutils literal notranslate"><span class="pre">pn</span></code> contains pores at the correct spatial positions and connections between the pores according the cubic topology.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">shape</span></code> argument specifies the number of pores in the [X, Y, Z] directions of the cube. Networks in OpenPNM are always 3D dimensional, meaning that a 2D or “flat” network is still 1 layer of pores “thick” so [X, Y, Z] = [20, 10, 1], thus <code class="docutils literal notranslate"><span class="pre">pn</span></code> in this tutorial is 2D which is easier for visualization.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">spacing</span></code> argument controls the center-to-center distance between pores and it can be a scalar or vector (i.e. [0.0001, 0.0002, 0.0003]).</p></li>
</ul>
<p>The resulting network looks like: (This image was creating using <a class="reference external" href="http://www.paraview.org">Paraview</a>, using the instructions given <a class="reference external" href="https://openpnm.readthedocs.io/en/dev/getting_started/visualize_in_paraview.html">here</a>)</p>
<p><img alt="e8c6337e791d4e80b09315da6c5ddf09" src="http://i.imgur.com/ScdydO9l.png" /></p>
<section id="Inspecting-Object-Properties">
<h3>Inspecting Object Properties<a class="headerlink" href="#Inspecting-Object-Properties" title="Permalink to this headline">#</a></h3>
<p>OpenPNM objects have additional methods for querying their relevant properties, like the number of pores or throats, which properties have been defined, and so on:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The total number of pores on the network is:&#39;</span><span class="p">,</span> <span class="n">pn</span><span class="o">.</span><span class="n">num_pores</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A short-cut to the total number of pores is:&#39;</span><span class="p">,</span> <span class="n">pn</span><span class="o">.</span><span class="n">Np</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The total number of throats on the network is:&#39;</span><span class="p">,</span> <span class="n">pn</span><span class="o">.</span><span class="n">num_throats</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A short-cut to the total number of throats is:&#39;</span><span class="p">,</span> <span class="n">pn</span><span class="o">.</span><span class="n">Nt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A list of all calculated properties is availble with:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">pn</span><span class="o">.</span><span class="n">props</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The total number of pores on the network is: 12
A short-cut to the total number of pores is: 12
The total number of throats on the network is: 17
A short-cut to the total number of throats is: 17
A list of all calculated properties is availble with:
 ――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
1     : pore.coords
2     : throat.conns
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div></div>
</div>
</section>
<section id="Accessing-Pores-and-Throats-via-Labels">
<h3>Accessing Pores and Throats via Labels<a class="headerlink" href="#Accessing-Pores-and-Throats-via-Labels" title="Permalink to this headline">#</a></h3>
<p>One simple but important feature of OpenPNM is the ability to <em>label</em> pores and throats. When a <strong>Cubic</strong> network is created, several labels are automatically created: the pores on each face are labeled ‘left’, ‘right’, etc. These labels can be used as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">pores</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0 1 2]
</pre></div></div>
</div>
<p>The ability to retrieve pore indices is handy for querying pore properties, such as retrieving the pore coordinates of all pores on the ‘left’ face:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pn</span><span class="p">[</span><span class="s1">&#39;pore.coords&#39;</span><span class="p">][</span><span class="n">pn</span><span class="o">.</span><span class="n">pores</span><span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[[5.0e-05 5.0e-05 5.0e-05]
 [5.0e-05 1.5e-04 5.0e-05]
 [5.0e-05 2.5e-04 5.0e-05]]
</pre></div></div>
</div>
<p>A list of all labels currently assigned to the network can be obtained with:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">labels</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;pore.all&#39;, &#39;pore.back&#39;, &#39;pore.front&#39;, &#39;pore.left&#39;, &#39;pore.right&#39;, &#39;pore.surface&#39;, &#39;throat.all&#39;, &#39;throat.surface&#39;]
</pre></div></div>
</div>
</section>
</section>
<section id="Create-a-Geometry-Object-and-Assign-Geometric-Properties-to-Pores-and-Throats">
<h2>Create a Geometry Object and Assign Geometric Properties to Pores and Throats<a class="headerlink" href="#Create-a-Geometry-Object-and-Assign-Geometric-Properties-to-Pores-and-Throats" title="Permalink to this headline">#</a></h2>
<p>The <strong>Network</strong> <code class="docutils literal notranslate"><span class="pre">pn</span></code> does not contain any information about pore and throat sizes at this point. The next step is to create a <strong>Geometry</strong> object to manage the geometrical properties.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geom</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">GenericGeometry</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">pores</span><span class="o">=</span><span class="n">pn</span><span class="o">.</span><span class="n">Ps</span><span class="p">,</span> <span class="n">throats</span><span class="o">=</span><span class="n">pn</span><span class="o">.</span><span class="n">Ts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [14], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> geom <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">op</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">geometry</span><span style="color: rgb(98,98,98)">.</span>GenericGeometry(network<span style="color: rgb(98,98,98)">=</span>pn, pores<span style="color: rgb(98,98,98)">=</span>pn<span style="color: rgb(98,98,98)">.</span>Ps, throats<span style="color: rgb(98,98,98)">=</span>pn<span style="color: rgb(98,98,98)">.</span>Ts)

<span class="ansi-red-fg">AttributeError</span>: module &#39;openpnm&#39; has no attribute &#39;geometry&#39;
</pre></div></div>
</div>
<p>This statement contains three arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">network</span></code> tells the <strong>Geometry</strong> object which <strong>Network</strong> it is associated with. There can be multiple networks defined in a given session, so all objects must be associated with a single network.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pores</span></code> and <code class="docutils literal notranslate"><span class="pre">throats</span></code> indicate the locations in the <strong>Network</strong> where this <strong>Geometry</strong> object will apply. In this tutorial <code class="docutils literal notranslate"><span class="pre">geom</span></code> applies to <em>all</em> pores and throats, but there are many cases where different regions of the network have different geometrical properties, so OpenPNM allows multiple <strong>Geometry</strong> objects to be created for managing the data in each region, but this will not be used in this tutorial.</p></li>
</ul>
<section id="Add-Pore-and-Throat-Size-Information">
<h3>Add Pore and Throat Size Information<a class="headerlink" href="#Add-Pore-and-Throat-Size-Information" title="Permalink to this headline">#</a></h3>
<p>This freshly instantiated <strong>Geometry</strong> object (<code class="docutils literal notranslate"><span class="pre">geom</span></code>) contains no geometric properties as yet. For this tutorial we’ll use the direct assignment of manually calculated values.</p>
<p>We’ll start by assigning diameters to each pore from a random distribution, spanning 0 um to 100 um. The upper limit matches the <code class="docutils literal notranslate"><span class="pre">spacing</span></code> of the <strong>Network</strong> which was set to 0.0001 m (i.e. 100 um), so pore diameters exceeding 100 um might overlap with their neighbors. Using the Scipy <code class="docutils literal notranslate"><span class="pre">rand</span></code> function creates an array of random numbers between 0 and 0.0001 that is <em>Np</em>-long, meaning each pore is assigned a unique random number</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geom</span><span class="p">[</span><span class="s1">&#39;pore.diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">Np</span><span class="p">)</span><span class="o">*</span><span class="mf">0.0001</span>  <span class="c1"># Units of meters</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [15], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">geom</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> np<span style="color: rgb(98,98,98)">.</span>random<span style="color: rgb(98,98,98)">.</span>rand(pn<span style="color: rgb(98,98,98)">.</span>Np)<span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">0.0001</span>

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
<p>We usually want the throat diameters to always be smaller than the two pores which it connects to maintain physical consistency. This requires understanding a little bit about how OpenPNM stores network topology. Consider the following:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">P12</span> <span class="o">=</span> <span class="n">pn</span><span class="p">[</span><span class="s1">&#39;throat.conns&#39;</span><span class="p">]</span>          <span class="c1"># An Nt x 2 list of pores on the end of each throat</span>
<span class="n">D12</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;pore.diameter&#39;</span><span class="p">][</span><span class="n">P12</span><span class="p">]</span>  <span class="c1"># An Nt x 2 list of pore diameters</span>
<span class="n">Dt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">amin</span><span class="p">(</span><span class="n">D12</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>         <span class="c1"># An Nt x 1 list of the smaller pore from each pair</span>
<span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.diameter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Dt</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [16], line 2</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> P12 <span style="color: rgb(98,98,98)">=</span> pn[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.conns</span><span style="color: rgb(175,0,0)">&#39;</span>]          <span style="color: rgb(95,135,135)"># An Nt x 2 list of pores on the end of each throat</span>
<span class="ansi-green-fg">----&gt; 2</span> D12 <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">geom</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>][P12]  <span style="color: rgb(95,135,135)"># An Nt x 2 list of pore diameters</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> Dt <span style="color: rgb(98,98,98)">=</span> np<span style="color: rgb(98,98,98)">.</span>amin(D12, axis<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">1</span>)         <span style="color: rgb(95,135,135)"># An Nt x 1 list of the smaller pore from each pair</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> Dt

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
<p>Let’s dissect the above lines.</p>
<ul class="simple">
<li><p>Firstly, <code class="docutils literal notranslate"><span class="pre">P12</span></code> is a direct copy of the <em>Network’s</em> <code class="docutils literal notranslate"><span class="pre">'throat.conns'</span></code> array, which contains the indices of the pore-pair connected by each throat.</p></li>
<li><p>Next, this <em>Nt-by-2</em> array is used to index into the <code class="docutils literal notranslate"><span class="pre">'pore.diameter'</span></code> array, resulting in another <em>Nt-by-2</em> array containing the diameters of the pores on each end of a throat.</p></li>
<li><p>Finally, the Scipy function <code class="docutils literal notranslate"><span class="pre">amin</span></code> is used to find the minimum diameter of each pore-pair by specifying the <code class="docutils literal notranslate"><span class="pre">axis</span></code> argument as 1, and the resulting <em>Nt-by-1</em> array is assigned to <code class="docutils literal notranslate"><span class="pre">geom['throat.diameter']</span></code>.</p></li>
<li><p>This trick of using <code class="docutils literal notranslate"><span class="pre">'throat.conns'</span></code> to index into a pore property array is commonly used in OpenPNM and you should have a second look at the above code to understand it fully.</p></li>
</ul>
<p>We must still specify the remaining geometrical properties of the pores and throats. Since we’re creating a “Stick-and-Ball” geometry, the sizes are calculated from the geometrical equations for spheres and cylinders. For pore volumes, assume a sphere:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Rp</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;pore.diameter&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span>
<span class="n">geom</span><span class="p">[</span><span class="s1">&#39;pore.volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">*</span><span class="mf">3.14159</span><span class="o">*</span><span class="p">(</span><span class="n">Rp</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [17], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> Rp <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">geom</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>]<span style="color: rgb(98,98,98)">/</span><span style="color: rgb(98,98,98)">2</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.volume</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> (<span style="color: rgb(98,98,98)">4</span><span style="color: rgb(98,98,98)">/</span><span style="color: rgb(98,98,98)">3</span>)<span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">3.14159</span><span style="color: rgb(98,98,98)">*</span>(Rp)<span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">3</span>

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
<p>The length of each throat is the center-to-center distance between pores, minus the radius of each of two neighboring pores.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">C2C</span> <span class="o">=</span> <span class="mf">0.0001</span>  <span class="c1"># The center-to-center distance between pores</span>
<span class="n">Rp12</span> <span class="o">=</span> <span class="n">Rp</span><span class="p">[</span><span class="n">pn</span><span class="p">[</span><span class="s1">&#39;throat.conns&#39;</span><span class="p">]]</span>
<span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">C2C</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">Rp12</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [18], line 2</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> C2C <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">0.0001</span>  <span style="color: rgb(95,135,135)"># The center-to-center distance between pores</span>
<span class="ansi-green-fg">----&gt; 2</span> Rp12 <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">Rp</span>[pn[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.conns</span><span style="color: rgb(175,0,0)">&#39;</span>]]
<span class="ansi-green-intense-fg ansi-bold">      3</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.length</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> C2C <span style="color: rgb(98,98,98)">-</span> np<span style="color: rgb(98,98,98)">.</span>sum(Rp12, axis<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">1</span>)

<span class="ansi-red-fg">NameError</span>: name &#39;Rp&#39; is not defined
</pre></div></div>
</div>
<p>The volume of each throat is found assuming a cylinder:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Rt</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.diameter&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span>
<span class="n">Lt</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.length&#39;</span><span class="p">]</span>
<span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.volume&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.14159</span><span class="o">*</span><span class="p">(</span><span class="n">Rt</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">*</span><span class="n">Lt</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [19], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> Rt <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">geom</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>]<span style="color: rgb(98,98,98)">/</span><span style="color: rgb(98,98,98)">2</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> Lt <span style="color: rgb(98,98,98)">=</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.length</span><span style="color: rgb(175,0,0)">&#39;</span>]
<span class="ansi-green-intense-fg ansi-bold">      3</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.volume</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">3.14159</span><span style="color: rgb(98,98,98)">*</span>(Rt)<span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">2</span><span style="color: rgb(98,98,98)">*</span>Lt

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
<p>The basic geometrical properties of the network are now defined. The <strong>Geometry</strong> class possesses a method called <code class="docutils literal notranslate"><span class="pre">plot_histograms</span></code> that produces a plot of the most pertinent geometrical properties. The following figure doesn’t look very good since the network in this example has only 12 pores, but the utility of the plot for quick inspection is apparent.</p>
<p><img alt="16c738e9cab34bd7a51adc17c53793cc" src="http://i.imgur.com/xkK1TYfl.png" /></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openpnm.models.geometry</span> <span class="k">as</span> <span class="nn">gmods</span>
<span class="n">geom</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">propname</span><span class="o">=</span><span class="s1">&#39;throat.hydraulic_size_factors&#39;</span><span class="p">,</span>
                       <span class="n">model</span><span class="o">=</span><span class="n">gmods</span><span class="o">.</span><span class="n">hydraulic_size_factors</span><span class="o">.</span><span class="n">spheres_and_cylinders</span><span class="p">,</span>
                       <span class="n">pore_diameter</span><span class="o">=</span><span class="s2">&quot;pore.diameter&quot;</span><span class="p">,</span>
                       <span class="n">throat_diameter</span><span class="o">=</span><span class="s2">&quot;throat.diameter&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [20], line 2</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> <span class="ansi-bold" style="color: rgb(0,135,0)">import</span> <span class="ansi-bold" style="color: rgb(0,0,255)">openpnm</span><span class="ansi-bold" style="color: rgb(0,0,255)">.</span><span class="ansi-bold" style="color: rgb(0,0,255)">models</span><span class="ansi-bold" style="color: rgb(0,0,255)">.</span><span class="ansi-bold" style="color: rgb(0,0,255)">geometry</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> <span class="ansi-bold" style="color: rgb(0,0,255)">gmods</span>
<span class="ansi-green-fg">----&gt; 2</span> <span class="ansi-yellow-bg">geom</span><span style="color: rgb(98,98,98)">.</span>add_model(propname<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.hydraulic_size_factors</span><span style="color: rgb(175,0,0)">&#39;</span>,
<span class="ansi-green-intense-fg ansi-bold">      3</span>                        model<span style="color: rgb(98,98,98)">=</span>gmods<span style="color: rgb(98,98,98)">.</span>hydraulic_size_factors<span style="color: rgb(98,98,98)">.</span>spheres_and_cylinders,
<span class="ansi-green-intense-fg ansi-bold">      4</span>                        pore_diameter<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">pore.diameter</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">      5</span>                        throat_diameter<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">throat.diameter</span><span style="color: rgb(175,0,0)">&#34;</span>)

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
</section>
</section>
<section id="Create-a-Phase-Object">
<h2>Create a Phase Object<a class="headerlink" href="#Create-a-Phase-Object" title="Permalink to this headline">#</a></h2>
<p>The simulation is now topologically and geometrically defined. It has pore coordinates, pore and throat sizes and so on. In order to perform any simulations it is necessary to define a <strong>Phase</strong> object to manage all the thermophysical properties of the fluids in the simulation:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phases</span><span class="o">.</span><span class="n">GenericPhase</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [21], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> water <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">op</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">phases</span><span style="color: rgb(98,98,98)">.</span>GenericPhase(network<span style="color: rgb(98,98,98)">=</span>pn)

<span class="ansi-red-fg">AttributeError</span>: module &#39;openpnm&#39; has no attribute &#39;phases&#39;
</pre></div></div>
</div>
<p>Some notes on this line: * <code class="docutils literal notranslate"><span class="pre">pn</span></code> is passed as an argument because <strong>Phases</strong> must know to which <strong>Network</strong> they belong. * Note that <code class="docutils literal notranslate"><span class="pre">pores</span></code> and <code class="docutils literal notranslate"><span class="pre">throats</span></code> are <em>NOT</em> specified; this is because <strong>Phases</strong> are mobile and can exist anywhere or everywhere in the domain, so providing specific locations does not make sense. Algorithms for dynamically determining actual phase distributions are discussed later.</p>
<section id="Add-Thermophysical-Properties">
<h3>Add Thermophysical Properties<a class="headerlink" href="#Add-Thermophysical-Properties" title="Permalink to this headline">#</a></h3>
<p>Now it is necessary to fill this <strong>Phase</strong> object with the desired thermophysical properties. OpenPNM includes a framework for calculating thermophysical properties from models and correlations, but this is covered in :ref:<code class="docutils literal notranslate"><span class="pre">intermediate_usage</span></code>. For this tutorial, we’ll use the basic approach of simply assigning static values as follows:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water</span><span class="p">[</span><span class="s1">&#39;pore.temperature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">298.0</span>
<span class="n">water</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.001</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [22], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">water</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.temperature</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">298.0</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> water[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">pore.viscosity</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">0.001</span>

<span class="ansi-red-fg">NameError</span>: name &#39;water&#39; is not defined
</pre></div></div>
</div>
<ul class="simple">
<li><p>The above lines utilize the fact that OpenPNM converts scalars to full length arrays, essentially setting the temperature in each pore to 298.0 K.</p></li>
</ul>
</section>
</section>
<section id="Create-a-Physics-Object">
<h2>Create a Physics Object<a class="headerlink" href="#Create-a-Physics-Object" title="Permalink to this headline">#</a></h2>
<p>We are still not ready to perform any simulations. The last step is to define the desired pore-scale physics models, which dictate how the phase and geometrical properties interact to give the <em>transport parameters</em>. A classic example of this is the Hagen-Poiseuille equation for fluid flow through a throat to predict the flow rate as a function of the pressure drop. The flow rate is proportional to the geometrical size of the throat (radius and length) as well as properties of the fluid
(viscosity) and thus combines geometrical and thermophysical properties:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phys_water</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">physics</span><span class="o">.</span><span class="n">GenericPhysics</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">water</span><span class="p">,</span> <span class="n">geometry</span><span class="o">=</span><span class="n">geom</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [23], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> phys_water <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">op</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">physics</span><span style="color: rgb(98,98,98)">.</span>GenericPhysics(network<span style="color: rgb(98,98,98)">=</span>pn, phase<span style="color: rgb(98,98,98)">=</span>water, geometry<span style="color: rgb(98,98,98)">=</span>geom)

<span class="ansi-red-fg">AttributeError</span>: module &#39;openpnm&#39; has no attribute &#39;physics&#39;
</pre></div></div>
</div>
<ul class="simple">
<li><p>As with all objects, the <code class="docutils literal notranslate"><span class="pre">Network</span></code> must be specified</p></li>
<li><p><strong>Physics</strong> objects combine information from a <strong>Phase</strong> (i.e. viscosity) and a <strong>Geometry</strong> (i.e. throat diameter), so each of these must be specified.</p></li>
<li><p><strong>Physics</strong> objects do not require the specification of which <code class="docutils literal notranslate"><span class="pre">pores</span></code> and <code class="docutils literal notranslate"><span class="pre">throats</span></code> where they apply, since this information is implied by the <code class="docutils literal notranslate"><span class="pre">geometry</span></code> argument which was already assigned to specific locations.</p></li>
</ul>
<section id="Specify-Desired-Pore-Scale-Transport-Parameters">
<h3>Specify Desired Pore-Scale Transport Parameters<a class="headerlink" href="#Specify-Desired-Pore-Scale-Transport-Parameters" title="Permalink to this headline">#</a></h3>
<p>We need to calculate the numerical values representing our chosen pore-scale physics. To continue with the Hagen-Poiseuille example lets calculate the hydraulic conductance of each throat in the network. The throat radius and length are easily accessed as:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.diameter&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">geom</span><span class="p">[</span><span class="s1">&#39;throat.length&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [24], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> R <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">geom</span>[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.diameter</span><span style="color: rgb(175,0,0)">&#39;</span>]<span style="color: rgb(98,98,98)">/</span><span style="color: rgb(98,98,98)">2</span>
<span class="ansi-green-intense-fg ansi-bold">      2</span> L <span style="color: rgb(98,98,98)">=</span> geom[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.length</span><span style="color: rgb(175,0,0)">&#39;</span>]

<span class="ansi-red-fg">NameError</span>: name &#39;geom&#39; is not defined
</pre></div></div>
</div>
<p>The viscosity of the <strong>Phases</strong> was only defined in the pores; however, the hydraulic conductance must be calculated for each throat. There are several options, but to keep this tutorial simple we’ll create a scalar value:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mu_w</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">phys_water</span><span class="p">[</span><span class="s1">&#39;throat.hydraulic_conductance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.14159</span><span class="o">*</span><span class="n">R</span><span class="o">**</span><span class="mi">4</span><span class="o">/</span><span class="p">(</span><span class="mi">8</span><span class="o">*</span><span class="n">mu_w</span><span class="o">*</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [25], line 2</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> mu_w <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">0.001</span>
<span class="ansi-green-fg">----&gt; 2</span> phys_water[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">throat.hydraulic_conductance</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">3.14159</span><span style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">R</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">4</span><span style="color: rgb(98,98,98)">/</span>(<span style="color: rgb(98,98,98)">8</span><span style="color: rgb(98,98,98)">*</span>mu_w<span style="color: rgb(98,98,98)">*</span>L)

<span class="ansi-red-fg">NameError</span>: name &#39;R&#39; is not defined
</pre></div></div>
</div>
<p>Numpy arrays support <em>vectorization</em>, so since both <code class="docutils literal notranslate"><span class="pre">L</span></code> and <code class="docutils literal notranslate"><span class="pre">R</span></code> are arrays of <em>Nt</em>-length, their multiplication in this way results in another array that is also <em>Nt</em>-long.</p>
</section>
</section>
<section id="Create-an-Algorithm-Object-for-Performing-a-Permeability-Simulation">
<h2>Create an Algorithm Object for Performing a Permeability Simulation<a class="headerlink" href="#Create-an-Algorithm-Object-for-Performing-a-Permeability-Simulation" title="Permalink to this headline">#</a></h2>
<p>Finally, it is now possible to run some useful simulations. The code below estimates the permeability through the network by applying a pressure gradient across and calculating the flux. This starts by creating a <strong>StokesFlow</strong> algorithm, which is pre-defined in OpenPNM:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alg</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">algorithms</span><span class="o">.</span><span class="n">StokesFlow</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">water</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [26], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> alg <span style="color: rgb(98,98,98)">=</span> op<span style="color: rgb(98,98,98)">.</span>algorithms<span style="color: rgb(98,98,98)">.</span>StokesFlow(network<span style="color: rgb(98,98,98)">=</span>pn, phase<span style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">water</span>)

<span class="ansi-red-fg">NameError</span>: name &#39;water&#39; is not defined
</pre></div></div>
</div>
<ul class="simple">
<li><p>Like all the above objects, <strong>Algorithms</strong> must be assigned to a <strong>Network</strong> via the <code class="docutils literal notranslate"><span class="pre">network</span></code> argument.</p></li>
<li><p>This algorithm is also associated with a <strong>Phase</strong> object, in this case <code class="docutils literal notranslate"><span class="pre">water</span></code>, which dictates which pore-scale <strong>Physics</strong> properties to use (recall that <code class="docutils literal notranslate"><span class="pre">phys_water</span></code> was associated with <code class="docutils literal notranslate"><span class="pre">water</span></code>). This can be passed as an argument to the instantiation or to the <code class="docutils literal notranslate"><span class="pre">setup</span></code> function.</p></li>
</ul>
<p>Next the boundary conditions are applied using the <code class="docutils literal notranslate"><span class="pre">set_boundary_conditions</span></code> method on the <strong>Algorithm</strong> object. Let’s apply a 1 atm pressure gradient between the left and right sides of the domain:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">BC1_pores</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">pores</span><span class="p">(</span><span class="s1">&#39;front&#39;</span><span class="p">)</span>
<span class="n">alg</span><span class="o">.</span><span class="n">set_value_BC</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="mi">202650</span><span class="p">,</span> <span class="n">pores</span><span class="o">=</span><span class="n">BC1_pores</span><span class="p">)</span>
<span class="n">BC2_pores</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">pores</span><span class="p">(</span><span class="s1">&#39;back&#39;</span><span class="p">)</span>
<span class="n">alg</span><span class="o">.</span><span class="n">set_value_BC</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="mi">101325</span><span class="p">,</span> <span class="n">pores</span><span class="o">=</span><span class="n">BC2_pores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [27], line 2</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> BC1_pores <span style="color: rgb(98,98,98)">=</span> pn<span style="color: rgb(98,98,98)">.</span>pores(<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">front</span><span style="color: rgb(175,0,0)">&#39;</span>)
<span class="ansi-green-fg">----&gt; 2</span> <span class="ansi-yellow-bg">alg</span><span style="color: rgb(98,98,98)">.</span>set_value_BC(values<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">202650</span>, pores<span style="color: rgb(98,98,98)">=</span>BC1_pores)
<span class="ansi-green-intense-fg ansi-bold">      3</span> BC2_pores <span style="color: rgb(98,98,98)">=</span> pn<span style="color: rgb(98,98,98)">.</span>pores(<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">back</span><span style="color: rgb(175,0,0)">&#39;</span>)
<span class="ansi-green-intense-fg ansi-bold">      4</span> alg<span style="color: rgb(98,98,98)">.</span>set_value_BC(values<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(98,98,98)">101325</span>, pores<span style="color: rgb(98,98,98)">=</span>BC2_pores)

<span class="ansi-red-fg">NameError</span>: name &#39;alg&#39; is not defined
</pre></div></div>
</div>
<p>To actually run the algorithm use the <code class="docutils literal notranslate"><span class="pre">run</span></code> method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alg</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [28], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">alg</span><span style="color: rgb(98,98,98)">.</span>run()

<span class="ansi-red-fg">NameError</span>: name &#39;alg&#39; is not defined
</pre></div></div>
</div>
<p>This builds the coefficient matrix from the existing values of hydraulic conductance, and inverts the matrix to solve for pressure in each pore, and stores the results within the <strong>Algorithm’s</strong> dictionary under <code class="docutils literal notranslate"><span class="pre">'pore.pressure'</span></code>.</p>
<p>To determine the permeability coefficient, we must invoke Darcy’s law: Q = KA/uL(Pin - Pout). Everything in this equation is known except for the volumetric flow rate Q. The <strong>StokesFlow</strong> algorithm possesses a <code class="docutils literal notranslate"><span class="pre">rate</span></code> method that calculates the rate of a quantity leaving a specified set of pores:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Q</span> <span class="o">=</span> <span class="n">alg</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="n">pores</span><span class="o">=</span><span class="n">pn</span><span class="o">.</span><span class="n">pores</span><span class="p">(</span><span class="s1">&#39;front&#39;</span><span class="p">))</span>
<span class="n">A</span> <span class="o">=</span> <span class="mf">0.0001</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">1</span>   <span class="c1"># Cross-sectional area for flow</span>
<span class="n">L</span> <span class="o">=</span> <span class="mf">0.0001</span><span class="o">*</span><span class="mi">4</span>     <span class="c1"># Length of flow path</span>
<span class="n">del_P</span> <span class="o">=</span> <span class="mi">101325</span>   <span class="c1"># Specified pressure gradient</span>
<span class="n">K</span> <span class="o">=</span> <span class="n">Q</span><span class="o">*</span><span class="n">mu_w</span><span class="o">*</span><span class="n">L</span><span class="o">/</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">del_P</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [29], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> Q <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">alg</span><span style="color: rgb(98,98,98)">.</span>rate(pores<span style="color: rgb(98,98,98)">=</span>pn<span style="color: rgb(98,98,98)">.</span>pores(<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">front</span><span style="color: rgb(175,0,0)">&#39;</span>))
<span class="ansi-green-intense-fg ansi-bold">      2</span> A <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">0.0001</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">3</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">1</span>   <span style="color: rgb(95,135,135)"># Cross-sectional area for flow</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> L <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(98,98,98)">0.0001</span><span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">4</span>     <span style="color: rgb(95,135,135)"># Length of flow path</span>

<span class="ansi-red-fg">NameError</span>: name &#39;alg&#39; is not defined
</pre></div></div>
</div>
<p>The results (<code class="docutils literal notranslate"><span class="pre">'pore.pressure'</span></code>) are held within the <code class="docutils literal notranslate"><span class="pre">alg</span></code> object and must be explicitly returned to the <em>Phase</em> object by the user if they wish to use these values in a subsequent calculation. The point of this data containment is to prevent unintentional overwriting of data. Each algorithm has a method called <code class="docutils literal notranslate"><span class="pre">results</span></code> which returns a dictionary of the pertinent simulation results, which can be added to the phase of interest using the <code class="docutils literal notranslate"><span class="pre">update</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">alg</span><span class="o">.</span><span class="n">results</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">NameError</span>                                 Traceback (most recent call last)
Cell <span class="ansi-green-fg">In [30], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> <span class="ansi-yellow-bg">water</span><span style="color: rgb(98,98,98)">.</span>update(alg<span style="color: rgb(98,98,98)">.</span>results())

<span class="ansi-red-fg">NameError</span>: name &#39;water&#39; is not defined
</pre></div></div>
</div>
<p>Using Paraview for Visualization, the resulting pressure gradient across the network can be seen:</p>
<p><img alt="6f6cc714689e4ab6804d60b89d9c238d" src="http://i.imgur.com/8aVaH1Sl.png" /></p>
</section>
</section>


            </article>
            
            
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Tutorial-1-of-3:-Getting-Started-with-OpenPNM">
   Tutorial 1 of 3: Getting Started with OpenPNM
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Overview-of-Data-Storage-in-OpenPNM">
   Overview of Data Storage in OpenPNM
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Python-Dictionaries-or-dicts">
     Python Dictionaries or
     <em>
      dicts
     </em>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Numpy-Arrays-of-Pore-and-Throat-Data">
     <em>
      Numpy
     </em>
     Arrays of Pore and Throat Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#OpenPNM-Objects:-Combining-dicts-and-Numpy-Arrays">
     OpenPNM Objects: Combining
     <em>
      dicts
     </em>
     and
     <em>
      Numpy
     </em>
     Arrays
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Generate-a-Cubic-Network">
   Generate a Cubic Network
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Inspecting-Object-Properties">
     Inspecting Object Properties
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Accessing-Pores-and-Throats-via-Labels">
     Accessing Pores and Throats via Labels
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Create-a-Geometry-Object-and-Assign-Geometric-Properties-to-Pores-and-Throats">
   Create a Geometry Object and Assign Geometric Properties to Pores and Throats
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Add-Pore-and-Throat-Size-Information">
     Add Pore and Throat Size Information
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Create-a-Phase-Object">
   Create a Phase Object
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Add-Thermophysical-Properties">
     Add Thermophysical Properties
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Create-a-Physics-Object">
   Create a Physics Object
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Specify-Desired-Pore-Scale-Transport-Parameters">
     Specify Desired Pore-Scale Transport Parameters
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Create-an-Algorithm-Object-for-Performing-a-Permeability-Simulation">
   Create an Algorithm Object for Performing a Permeability Simulation
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022, PMEAL.<br>

</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
  </footer>
  </body>
</html>