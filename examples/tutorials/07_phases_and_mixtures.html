
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Creating Phases &#8212; OpenPNM 3.1.1 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/js/custom.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Simulating Single Phase Transport" href="08_simulating_transport.html" />
    <link rel="prev" title="Using Labels and Defining Domains" href="06_labels_and_domains.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    <img src="../../_static/openpnm_logo.jpg" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/openpnm_logo.jpg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class=" collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../basic_usage.html">
  Basic Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../modules/index.html">
  Module Reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../../_examples/index.html">
  Examples
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/issues">Issue Tracker<i class="fas fa-external-link-alt"></i></a>
    </li>
    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://github.com/PMEAL/OpenPNM/discussions">Get Help<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Quick Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/PMEAL/OpenPNM" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../../_examples/tutorials.html">
   10 Steps to Learn OpenPNM
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_numerical_python_primer.html">
     Numerical Python Primer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_network_generation_and_visualization.html">
     Generating Networks and Quick Visualization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_data_and_topology_storage.html">
     Storage of Network Data and Topology
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_graph_queries_and_manipulation.html">
     Network Representation, Queries, and Manipulation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05_defining_geometry.html">
     Assigning Geometric Properties
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_labels_and_domains.html">
     Using Labels and Defining Domains
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Creating Phases
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08_simulating_transport.html">
     Simulating Single Phase Transport
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09_simulating_invasion.html">
     Simulating Invasion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10_visualization_options.html">
     Visualization options
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../_examples/applications.html">
   Applications
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/absolute_permeability.html">
     Predicting absolute permeability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/adjusting_pore_size_distributions.html">
     Adjusting Pore Size Distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/dispersion_coefficient.html">
     Predicting dispersion coefficient
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/effective_diffusivity_and_tortuosity.html">
     Finding Effective Diffusivity and Tortuosity of a Network
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/formation_factor.html">
     Predicting Formation Factor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/mercury_intrusion.html">
     Simulating Mercury Intrusion Porosimetry Curves
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/porosity.html">
     Predicting Porosity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/relative_diffusivity.html">
     Obtaining Relative Diffusivity Curves
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../applications/relative_permeability.html">
     Predicting relative permeability
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../_examples/reference.html">
   Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/architecture/pore_scale_models.html">
     Pore-Scale Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/architecture/settings_attribute_machinery.html">
     Settings Attribute Machinery
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/architecture/workspace_and_projects.html">
     The Workspace and Projects
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/networks/managing_clustered_networks.html">
     Managing Clustered Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/available_matrix_solvers.html">
     Available Matrix Solvers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/basic_transport.html">
     Steady State Transport
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/explanation_of_units.html">
     Explanation of Units
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/reactive_transport.html">
     Reactive Transport
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/size_factors_and_transport_conductance.html">
     Size Factors and Transport Conductance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../reference/simulations/transient_transport.html">
     Transient Transport
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-the-phase-class">
   Part 1: The
   <code class="docutils literal notranslate">
    <span class="pre">
     Phase
    </span>
   </code>
   class
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#direct-assignment-of-a-constant-value">
     Direct assignment of a constant value
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-a-built-in-model">
     Using a built-in model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-a-water-specific-model">
     Using a water-specific model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#writing-your-own-custom-model">
     Writing your own custom model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specific-classes-for-common-fluids">
     Specific Classes for Common Fluids
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-using-species-and-mixtures">
   Part 2: Using Species and Mixtures
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pure-species">
     Pure Species
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gas-and-liquid-species">
     Gas and Liquid Species
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gas-and-liquid-mixtures">
     Gas and Liquid Mixtures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-and-setting-compositions">
     Getting and Setting Compositions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exploring-features-of-the-mixture-objects">
     Exploring Features of the Mixture Objects
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#adding-and-removing-species">
       Adding and Removing Species
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-info-attribute">
       The
       <code class="docutils literal notranslate">
        <span class="pre">
         info
        </span>
       </code>
       Attribute
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#get-component-mole-fractions">
       Get component mole fractions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-components-attribute">
       The
       <code class="docutils literal notranslate">
        <span class="pre">
         components
        </span>
       </code>
       Attribute
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-get-comp-vals">
       Using
       <code class="docutils literal notranslate">
        <span class="pre">
         get_comp_vals
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#checking-consistency-with-check-mixture-health">
       Checking consistency with
       <code class="docutils literal notranslate">
        <span class="pre">
         check_mixture_health
        </span>
       </code>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#retrieving-species-properties">
       Retrieving Species Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#using-the-wildcard-syntax">
       Using the wildcard (
       <code class="docutils literal notranslate">
        <span class="pre">
         *
        </span>
       </code>
       ) syntax
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section class="tex2jax_ignore mathjax_ignore" id="creating-phases">
<h1>Creating Phases<a class="headerlink" href="#creating-phases" title="Permalink to this heading">#</a></h1>
<p>All simulations in OpenPNM eventually require knowing the physical and thermodynamic properties of the fluids and phases.  OpenPNM provides a framework for computing these values in the <code class="docutils literal notranslate"><span class="pre">phase</span></code> submodule, along with a <em>basic</em> set of functions for predicting the properties pure phases and mixtures. Since we can’t possibly support an exhaustive physical property library, our policy is to provide a set of reasonable default functions for use as first approximations.  There are a number of other packages that can be used when more exacting values are required, such as <code class="docutils literal notranslate"><span class="pre">chemicals</span></code> and <code class="docutils literal notranslate"><span class="pre">cantera</span></code>, which can be used within the framework of OpenPNM.</p>
<p>In the first part of this notebook, we will cover:</p>
<ul class="simple">
<li><p>Assigning constant values for fixed properties</p></li>
<li><p>Generating values using built-in pore-scale models</p></li>
<li><p>Exploring the dependency handler</p></li>
<li><p>Creating custom pore-scale models</p></li>
<li><p>Specific classes for common fluids like <code class="docutils literal notranslate"><span class="pre">Air</span></code> and <code class="docutils literal notranslate"><span class="pre">Water</span></code></p></li>
</ul>
<p>In the second part we will cover topics relating to mixtures, including:</p>
<ul class="simple">
<li><p>Creating individual <code class="docutils literal notranslate"><span class="pre">Species</span></code> objects from the CAS number</p></li>
<li><p>Combining components into a <code class="docutils literal notranslate"><span class="pre">Mixture</span></code></p></li>
<li><p>Utilizing the built-in classes for first-approximations of pure gas and liquid properties, and for mixture properties</p></li>
<li><p>Leveraging external packages for making better estimates of pure component and mixture properties</p></li>
</ul>
<section id="part-1-the-phase-class">
<h2>Part 1: The <code class="docutils literal notranslate"><span class="pre">Phase</span></code> class<a class="headerlink" href="#part-1-the-phase-class" title="Permalink to this heading">#</a></h2>
<p>If your simulation is simple, then a basic <code class="docutils literal notranslate"><span class="pre">Phase</span></code> object may be sufficient.  It has no predefined models for computing anything, so you have to either assign known values directly (e.g <code class="docutils literal notranslate"><span class="pre">water['pore.viscosity']</span> <span class="pre">=</span> <span class="pre">0.001</span></code>) or define models that will compute the values you need.  The models can be taken from the <code class="docutils literal notranslate"><span class="pre">openpnm.models.phase</span></code> library, or you can write your own. We will cover all three options below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">openpnm</span> <span class="k">as</span> <span class="nn">op</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">op</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">set_mpl_style</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>All simulations start by defining/creating a network.  The <code class="docutils literal notranslate"><span class="pre">Demo</span></code> class creates a simple cubic network with an assortment of useful geometrical properties included:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pn</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">Demo</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Once the network is defined, it is passed to the <code class="docutils literal notranslate"><span class="pre">Phase</span></code> class as an argument.  This allows <code class="docutils literal notranslate"><span class="pre">phase</span></code> to know about the geometrical and topological features of the network:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phase1</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">Phase</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">phase1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
phase_01 : &lt;openpnm.phase.Phase at 0x7f95dc7d9ea0&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<section id="direct-assignment-of-a-constant-value">
<h3>Direct assignment of a constant value<a class="headerlink" href="#direct-assignment-of-a-constant-value" title="Permalink to this heading">#</a></h3>
<p>The basic <code class="docutils literal notranslate"><span class="pre">Phase</span></code> class creates a (nearly) empty object with only standard temperature and pressure assigned to each pore. In order to use this object for simulations it needs some additional information. For instance, to compute the permeability of <code class="docutils literal notranslate"><span class="pre">pn</span></code> we will need the viscosity.  So, let’s assign a known value directly for liquid water:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.001</span>  <span class="c1"># Pa.s</span>
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Scalar values are broadcast to a full ndarray</p>
<p>When assigning a scalar value to a dictionary key it gets assigned to every pore (or throat).  The result of the above assignment can be seen below.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.001, 0.001, 0.001, 0.001])
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-a-built-in-model">
<h3>Using a built-in model<a class="headerlink" href="#using-a-built-in-model" title="Permalink to this heading">#</a></h3>
<p>Perhaps you would like to run a simulation in the presence of a temperature gradient, and viscosity is a strong function of temperature.  Instead of assigning a constant viscosity, in this case it is better to assign a pore-scale model that OpenPNM will run to compute the viscosity in each pore.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">models</span></code> library in OpenPNM contains some general models which can be used, such as polynomials or linear lines. A 4th order polynomial can be fit to experimental data of viscosity vs temperature yielding the following coefficients:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a4</span> <span class="o">=</span> <span class="mf">5.8543E-11</span>
<span class="n">a3</span> <span class="o">=</span> <span class="o">-</span><span class="mf">7.6756E-08</span>
<span class="n">a2</span> <span class="o">=</span> <span class="mf">3.7831E-05</span>
<span class="n">a1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">8.3156E-03</span>
<span class="n">a0</span> <span class="o">=</span> <span class="mf">6.8898E-01</span>
</pre></div>
</div>
</div>
</div>
<p>These can be used in the the <code class="docutils literal notranslate"><span class="pre">op.models.misc.polynomial</span></code> model as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Before:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">polynomial</span>
<span class="n">phase1</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">propname</span><span class="o">=</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">,</span> 
                 <span class="n">model</span><span class="o">=</span><span class="n">f</span><span class="p">,</span>
                 <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">a0</span><span class="p">,</span> <span class="n">a1</span><span class="p">,</span> <span class="n">a2</span><span class="p">,</span> <span class="n">a3</span><span class="p">,</span> <span class="n">a4</span><span class="p">),</span>
                 <span class="n">prop</span><span class="o">=</span><span class="s1">&#39;pore.temperature&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;After:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before: [0.001 0.001 0.001 0.001]
After: [0.00091476 0.00091476 0.00091476 0.00091476]
</pre></div>
</div>
</div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Models are run when added</strong></p>
<p>When assigning a pore-scale model using the <code class="docutils literal notranslate"><span class="pre">add_model</span></code> function, it is automatically run, so it either overwrites any values present in <code class="docutils literal notranslate"><span class="pre">phase1['pore.viscosity']</span></code> or creates a new array in that location.  To prevent this behavior, for instance if a model needs other information to be computed before it’s run, add <code class="docutils literal notranslate"><span class="pre">regen_mode='deferred'</span></code> to the argument list of the <code class="docutils literal notranslate"><span class="pre">add_model</span></code> method.</p>
</div>
<p>The most important benefit of using a pore-scale model is that it can re-compute each model if one of its dependent properties has changed. To illustrate the point, let’s set the temperature to a random number between 300 and 350 K, the rerun the model at the new temperatures:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Before:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
<span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.temperature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">300.0</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">pn</span><span class="o">.</span><span class="n">Np</span><span class="p">)</span><span class="o">*</span><span class="mi">50</span>
<span class="n">phase1</span><span class="o">.</span><span class="n">regenerate_models</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;After:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before: [0.00091476 0.00091476 0.00091476 0.00091476]
After: [0.00066247 0.00069922 0.00041897 0.00074204]
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-a-water-specific-model">
<h3>Using a water-specific model<a class="headerlink" href="#using-a-water-specific-model" title="Permalink to this heading">#</a></h3>
<p>Because water is so common, OpenPNM has some available functions for its properties. For instance, there is no need to look-up experimental data and fit an n-th order polynomial, as this is already provided:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Before:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">viscosity</span><span class="o">.</span><span class="n">water_correlation</span>
<span class="n">phase1</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">propname</span><span class="o">=</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">,</span>
                 <span class="n">model</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;After:&#39;</span><span class="p">,</span> <span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before: [0.00066247 0.00069922 0.00041897 0.00074204]
After: [0.0006312  0.00066955 0.00037821 0.0007144 ]
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Overwriting existing models</strong></p>
<p>Assigning a new model with <code class="docutils literal notranslate"><span class="pre">propname='pore.viscostiy'</span></code> will overwrite the existing model that is stored in <code class="docutils literal notranslate"><span class="pre">pn.models['pore.viscosity&#64;&lt;domain&gt;']</span></code>, which in this case was the custom model we defined above.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><strong>Predefined Fluids</strong></p>
<p>OpenPNM also has specific models for <strong>air</strong> and <strong>mercury</strong>, which are also common.</p>
</div>
</section>
<section id="writing-your-own-custom-model">
<h3>Writing your own custom model<a class="headerlink" href="#writing-your-own-custom-model" title="Permalink to this heading">#</a></h3>
<p>This subject is explained in detail in another tutorial, but the basic outline is as follows. Creating a custom model, containing any functionality needed, is as simple as defining a new python function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_mu</span><span class="p">(</span><span class="n">phase</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="s1">&#39;pore.temperature&#39;</span><span class="p">):</span>
    <span class="n">T</span> <span class="o">=</span> <span class="n">phase</span><span class="p">[</span><span class="n">temperature</span><span class="p">]</span>
    <span class="n">a4</span> <span class="o">=</span> <span class="mf">5.8543E-11</span>
    <span class="n">a3</span> <span class="o">=</span> <span class="o">-</span><span class="mf">7.6756E-08</span>
    <span class="n">a2</span> <span class="o">=</span> <span class="mf">3.7831E-05</span>
    <span class="n">a1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">8.3156E-03</span>
    <span class="n">a0</span> <span class="o">=</span> <span class="mf">6.8898E-01</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">a0</span> <span class="o">+</span> <span class="n">a1</span><span class="o">*</span><span class="n">T</span> <span class="o">+</span> <span class="n">a2</span><span class="o">*</span><span class="n">T</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">a3</span><span class="o">*</span><span class="n">T</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="n">a4</span><span class="o">*</span><span class="n">T</span><span class="o">**</span><span class="mi">4</span>
    <span class="k">return</span> <span class="n">mu</span>

<span class="n">phase1</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">propname</span><span class="o">=</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">,</span>
                 <span class="n">model</span><span class="o">=</span><span class="n">custom_mu</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">phase1</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.00066247 0.00069922 0.00041897 0.00074204]
</pre></div>
</div>
</div>
</div>
<p>The values here are the same as above since this function is just a reimplementation of the n-th order polynomial fit</p>
</section>
<section id="specific-classes-for-common-fluids">
<h3>Specific Classes for Common Fluids<a class="headerlink" href="#specific-classes-for-common-fluids" title="Permalink to this heading">#</a></h3>
<p>Air, water, and mercury are used commonly enough that OpenPNM not only has pore-scale models for their propertie (i.e. <code class="docutils literal notranslate"><span class="pre">op.models.viscosity.water_correlation</span></code>), but we have also created pre-defined classes with all the appropriate models already attached:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">water</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">Water</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
phase_02 : &lt;openpnm.phase.Water at 0x7f95dc7f2900&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
  4  pore.contact_angle                                                  4 / 4
  5  pore.density                                                        4 / 4
  6  pore.molar_density                                                  4 / 4
  7  pore.surface_tension                                                4 / 4
  8  pore.thermal_conductivity                                           4 / 4
  9  pore.vapor_pressure                                                 4 / 4
 10  pore.viscosity                                                      4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>As can be seen in the above print-out, a variety of things have been computed, most of which are coming from a <em>water-specific</em> pore-scale model.  These can be viewed with:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">water</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
#   Property Name                       Parameter                 Value
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
1   pore.contact_angle@all              model:                    constant
                                        value:                    110.0
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
2   pore.density@all                    model:                    water_correlation
                                        T:                        pore.temperature
                                        salinity:                 pore.salinity
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
3   pore.molar_density@all              model:                    mass_to_molar
                                        MW:                       param.molecular_weight
                                        rho:                      pore.density
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
4   pore.surface_tension@all            model:                    water_correlation
                                        T:                        pore.temperature
                                        salinity:                 pore.salinity
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
5   pore.thermal_conductivity@all       model:                    water_correlation
                                        T:                        pore.temperature
                                        salinity:                 pore.salinity
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
6   pore.vapor_pressure@all             model:                    liquid_pure_antoine
                                        T:                        pore.temperature
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
7   pore.viscosity@all                  model:                    water_correlation
                                        T:                        pore.temperature
                                        salinity:                 pore.salinity
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>As can be seen, many of these models include <code class="docutils literal notranslate"><span class="pre">T='pore.temperature'</span></code> as a parameter, which means that these models will fetch the current value of <code class="docutils literal notranslate"><span class="pre">water['pore.temperature']</span></code> when running, thereby using the most current value of temperature.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>**Dependency checking **</p>
<p>Close inspection of the above printout reveals that <code class="docutils literal notranslate"><span class="pre">'pore.molar_density'</span></code> takes <code class="docutils literal notranslate"><span class="pre">'pore.density'</span></code> as an argument.  OpenPNM uses a graph-based dependency handler to ensure that <code class="docutils literal notranslate"><span class="pre">'pore.density'</span></code> is computed before <code class="docutils literal notranslate"><span class="pre">'pore.molar_denstiy'</span></code>.  This happens automatically when <code class="docutils literal notranslate"><span class="pre">regenerate_model</span></code> is called.  In some cases an error will occur if these dependencies form cycles which cannot be resolved.  This can be fixed by changing the name of one of the “upstream” models, for instance.</p>
</div>
</section>
</section>
<section id="part-2-using-species-and-mixtures">
<h2>Part 2: Using Species and Mixtures<a class="headerlink" href="#part-2-using-species-and-mixtures" title="Permalink to this heading">#</a></h2>
<p>In some cases a user may wish to compute the thermophysical properties of unusual species, or even mixtures of species. There are packages who’s entire purpose is computing these values, so OpenPNM does not attempt to reproduce this functionality. However, it is needed often enough that OpenPNM has some base level support for making ‘first-approximation’ estimates of species properties, and also has a defined API for dealing with mixtures of individual species.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>Mixtures might be an unnecessary complication for you</strong></p>
<p>In most cases you probably do not need to use the <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> class. For instance, air is a gas mixture with a well known set of properties. This is sufficient for computing things like permeability.  On the other hand, if you have a 4 component gas mixture at a variety of compositions, and the properties are unknown, the perhaps the <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> feature is the right choice.</p>
</div>
<section id="pure-species">
<h3>Pure Species<a class="headerlink" href="#pure-species" title="Permalink to this heading">#</a></h3>
<p>Mixtures were introduced as a beta feature in V2, but are now part of V3. To create a <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> we start by creating several <code class="docutils literal notranslate"><span class="pre">Species</span></code> objects.  Let’s make air, consisting of oxygen and nitrogen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">Species</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">&#39;oxygen&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
phase_03 : &lt;openpnm.phase.Species at 0x7f95da0c7b30&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><strong>OpenPNM uses the chemicals and thermo packages behind the scenes</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">species</span></code> argument is looked up using the <code class="docutils literal notranslate"><span class="pre">thermo</span></code> package which contains numerous synonyms for each species. This is argument is actually passed to <code class="docutils literal notranslate"><span class="pre">thermo.Chemical</span></code>, which does the database look-up to fetch all the needed chemical properties.</p>
</div>
<p>As can be seen above the <code class="docutils literal notranslate"><span class="pre">Species</span></code> class does not compute any properties of the given species, <em>BUT</em> it does contain a host of thermodynamic properties in the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
Parameters                          Value
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
CAS                                 7782-44-7
common_name                         oxygen
charge                              0
formula                             O2
boiling_temperature                 90.188
melting_temperature                 54.36
triple_point_temperature            54.33
triple_point_pressure               148.9796864589355
dipole_moment                       0.0
LJ_diameter                         3.29728
LJ_energy                           1.6520845934e-21
surface_tension_Tb                  0.013145633010272155
molar_volume_Tb                     2.802254619756072e-05
molecular_weight                    31.9988
critical_temperature                154.58
critical_pressure                   5042945.25
critical_volume                     7.34e-05
critical_compressibilty_factor      0.2880002236716698
acentric_factor                     0.021
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>The “param” prefix and “params” attribute</strong></p>
<p>You can access the values of these parameters either from the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute or using the dictionary lookup of the main object which will dispatch the query to the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;CAS&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;7782-44-7&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span><span class="p">[</span><span class="s1">&#39;param.CAS&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;7782-44-7&#39;
</pre></div>
</div>
</div>
</div>
<p>Writing also works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span><span class="p">[</span><span class="s1">&#39;param.foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span>
<span class="n">o2</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;bar&#39;
</pre></div>
</div>
</div>
</div>
<p>These parameters are used in the various property estimation methods.  For instance, to compute the viscosity of oxygen, OpenPNM provides a function that implements the model of Stiel and Thodos (<code class="docutils literal notranslate"><span class="pre">openpnm.models.phase.viscosity.gas_pure_ls</span></code>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">viscosity</span><span class="o">.</span><span class="n">gas_pure_st</span>
<span class="n">o2</span><span class="o">.</span><span class="n">add_model</span><span class="p">(</span><span class="n">propname</span><span class="o">=</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">f</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2.01023694e-05 2.01023694e-05 2.01023694e-05 2.01023694e-05]
</pre></div>
</div>
</div>
</div>
<p>This function requires several pieces of thermodynamics information, such as the critical temperature and critical pressure. You can see all the arguments below</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
#   Property Name                       Parameter                 Value
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
1   pore.viscosity@all                  model:                    gas_pure_st
                                        T:                        pore.temperature
                                        Tc:                       param.critical_temperature
                                        Pc:                       param.critical_pressure
                                        MW:                       param.molecular_weight
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>The above shows that the temperature of the phase is fetched as <code class="docutils literal notranslate"><span class="pre">'pore.temperature'</span></code>, while all the rest are retrieved from the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute.  To further illustrate this behavior, we could write the critical temperature <code class="docutils literal notranslate"><span class="pre">A['pore.critical_temperature']</span></code> and also overwrite the default argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span><span class="o">.</span><span class="n">models</span><span class="p">[</span><span class="s1">&#39;pore.viscosity@all&#39;</span><span class="p">][</span><span class="s1">&#39;Tc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;pore.critical_temperature&#39;</span>
<span class="n">o2</span><span class="p">[</span><span class="s1">&#39;pore.critical_temperature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">o2</span><span class="p">[</span><span class="s1">&#39;param.critical_temperature&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
#   Property Name                       Parameter                 Value
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
1   pore.viscosity@all                  model:                    gas_pure_st
                                        T:                        pore.temperature
                                        Tc:                       pore.critical_temperature
                                        Pc:                       param.critical_pressure
                                        MW:                       param.molecular_weight
                                        regeneration mode:        normal
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>Now when we regenerate the model it will fetch the critical temperature values for each pore individual, but will work as expected:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span><span class="o">.</span><span class="n">regenerate_models</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2.01023694e-05 2.01023694e-05 2.01023694e-05 2.01023694e-05]
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Passing “param.<propname>” to a model</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>The ability to fetch items from the ``params`` attribute via the standard dictionary look-up was added specifically to support the above behavior.  Within the function the following line is called: 
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Tcrit</span> <span class="pre">=</span> <span class="pre">phase[Tc]</span></code></p>
<p>So if <code class="docutils literal notranslate"><span class="pre">Tc='pore.critical_temperature'</span></code> is supplied as the argument, then OpenPNM will look for values in the main dictionary (i.e. <code class="docutils literal notranslate"><span class="pre">phase['pore.critical_temperature']</span></code>.  If however, <code class="docutils literal notranslate"><span class="pre">Tc='param.critical_temperature'</span></code> is specified, then OpenPNM will look in the <code class="docutils literal notranslate"><span class="pre">params</span></code> attribute, becuase <code class="docutils literal notranslate"><span class="pre">phase['param.critical_temperature']</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">phase.params['critical_temperature']</span></code>.</p>
</div>
</section>
<section id="gas-and-liquid-species">
<h3>Gas and Liquid Species<a class="headerlink" href="#gas-and-liquid-species" title="Permalink to this heading">#</a></h3>
<p>OpenPNM has a suite of functions for computing the properties of pure phases, but these functions differ for gases and liquids.  For this reason we offer two classes for gas and liquid with the appropriate models already defined.  These are referred to as <code class="docutils literal notranslate"><span class="pre">StandardLiquid</span></code> and <code class="docutils literal notranslate"><span class="pre">StandardGas</span></code> to indicate that the models being used are the standard selection which provide a first-approximatation:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">StandardGas</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">&#39;o2&#39;</span><span class="p">)</span>
<span class="n">h2o</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">StandardLiquid</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">&#39;h2o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>These objects are populated with their respective thermodynamic properties, as illustrated above, but the more interesting feature is that an assortment of pore-scale models are also added, which compute the properties:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">o2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
phase_04 : &lt;openpnm.phase.StandardGas at 0x7f95da0d7720&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
  4  pore.heat_capacity_gas                                              4 / 4
  5  pore.heat_capacity                                                  4 / 4
  6  pore.thermal_conductivity                                           4 / 4
  7  pore.viscosity                                                      4 / 4
  8  pore.density                                                        4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">h2o</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
phase_05 : &lt;openpnm.phase.StandardLiquid at 0x7f95da0d7f90&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
  4  pore.heat_capacity_gas                                              4 / 4
  5  pore.heat_capacity                                                  4 / 4
  6  pore.thermal_conductivity                                           4 / 4
  7  pore.vapor_pressure                                                 4 / 4
  8  pore.viscosity                                                      4 / 4
  9  pore.density                                                        4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>The functions that are used to compute the properties are taken from the <code class="docutils literal notranslate"><span class="pre">chemicals</span></code> package.  OpenPNM has reimplemented a minimal selection of these using direct <code class="docutils literal notranslate"><span class="pre">numpy</span></code> vectorization.  You can see which models are chosen by printing the <code class="docutils literal notranslate"><span class="pre">models</span></code> attribute, and you can read the docstring of each function for more information.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">h2o</span><span class="o">.</span><span class="n">models</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
#   Property Name                       Parameter                 Value
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
1   pore.density@all                    model:                    liquid_pure_COSTALD
                                        T:                        pore.temperature
                                        Tc:                       param.critical_temperature
                                        Vc:                       param.critical_volume
                                        omega:                    param.acentric_factor
                                        MW:                       param.molecular_weight
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
2   pore.heat_capacity_gas@all          model:                    gas_pure_TRC
                                        T:                        pore.temperature
                                        a:                        []
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
3   pore.heat_capacity@all              model:                    liquid_pure_rp
                                        T:                        pore.temperature
                                        Tc:                       param.critical_temperature
                                        omega:                    param.acentric_factor
                                        Cpg:                      pore.heat_capacity_gas
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
4   pore.thermal_conductivity@all       model:                    liquid_pure_gismr
                                        T:                        pore.temperature
                                        MW:                       param.molecular_weight
                                        Tb:                       param.boiling_temperature
                                        Pc:                       param.critical_pressure
                                        omega:                    param.acentric_factor
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
5   pore.viscosity@all                  model:                    liquid_pure_ls
                                        T:                        pore.temperature
                                        MW:                       param.molecular_weight
                                        Tc:                       param.critical_temperature
                                        Pc:                       param.critical_pressure
                                        omega:                    param.acentric_factor
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
6   pore.vapor_pressure@all             model:                    liquid_pure_antoine
                                        T:                        pore.temperature
                                        regeneration mode:        deferred
―――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
</section>
<section id="gas-and-liquid-mixtures">
<h3>Gas and Liquid Mixtures<a class="headerlink" href="#gas-and-liquid-mixtures" title="Permalink to this heading">#</a></h3>
<p>To create a <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> we must first specify the individual <code class="docutils literal notranslate"><span class="pre">Species</span></code> object.  Below we use the <code class="docutils literal notranslate"><span class="pre">StandardGas</span></code> class, which is the basic <code class="docutils literal notranslate"><span class="pre">Species</span></code> class, but with an assortment of models already attached for computing the component properties:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">o2</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">StandardGas</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">&#39;o2&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;oxygen&#39;</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">StandardGas</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="s1">&#39;n2&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;nitrogen&#39;</span><span class="p">)</span>
<span class="n">air</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">phase</span><span class="o">.</span><span class="n">StandardGasMixture</span><span class="p">(</span><span class="n">network</span><span class="o">=</span><span class="n">pn</span><span class="p">,</span> <span class="n">components</span><span class="o">=</span><span class="p">[</span><span class="n">o2</span><span class="p">,</span> <span class="n">n2</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Before using this mixture we must first specify the compositions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">o2</span><span class="p">,</span> <span class="mf">0.21</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span> <span class="mf">0.79</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now that the compositios are known we can run the models:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">regenerate_models</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">air</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
mixture_01 : &lt;openpnm.phase.StandardGasMixture at 0x7f95da0eac70&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
  4  pore.mole_fraction.oxygen                                           4 / 4
  5  pore.mole_fraction.nitrogen                                         4 / 4
  6  pore.heat_capacity                                                  4 / 4
  7  pore.thermal_conductivity                                           4 / 4
  8  pore.viscosity                                                      4 / 4
  9  pore.density                                                        4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<p>The above properties are for the <code class="docutils literal notranslate"><span class="pre">Mixture</span></code>, which is a blend of the properties of the individual <code class="docutils literal notranslate"><span class="pre">Species</span></code>. As demonstrated above where <code class="docutils literal notranslate"><span class="pre">Species</span></code> properties were all functions of temperature, the <code class="docutils literal notranslate"><span class="pre">Mixture</span></code> class considers the <em>composition</em> of each species in the mixture as well.  If we change the composition of the components, and rerun the models, the mixture properties will change:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Before:&#39;</span><span class="p">,</span> <span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
<span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">o2</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">regenerate_models</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;After:&#39;</span><span class="p">,</span> <span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Before: [1.78543425e-05 1.78543425e-05 1.78543425e-05 1.78543425e-05]
After: [2.01881831e-05 2.01881831e-05 2.01881831e-05 2.01881831e-05]
</pre></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Retrieving sub-dicts</strong></p>
<p>The mole fractions of <em>both</em> species can be retrieved using the <code class="docutils literal notranslate"><span class="pre">dict</span></code> lookup without specifying which component.  OpenPNM will return a dictionary of both components with their names as they keys.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([0.8, 0.8, 0.8, 0.8]), &#39;nitrogen&#39;: array([0.2, 0.2, 0.2, 0.2])}
</pre></div>
</div>
</div>
</div>
<p>This also means you can index into the returned dictionary using the names:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction&#39;</span><span class="p">][</span><span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.8 0.8 0.8 0.8]
</pre></div>
</div>
</div>
</div>
<p>Alternatively the returned dictionary can be used to get a list of components that are currently part of the mixture:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;oxygen&#39;, &#39;nitrogen&#39;])
</pre></div>
</div>
</div>
</div>
<p>The individual species can be retrieved using the <code class="docutils literal notranslate"><span class="pre">components</span></code> attribute which returns a dictionary with component names as the keys and handles to the actual objects as values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: oxygen : &lt;openpnm.phase.StandardGas at 0x7f95da0d79a0&gt;,
 &#39;nitrogen&#39;: nitrogen : &lt;openpnm.phase.StandardGas at 0x7f95da0ea4f0&gt;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="getting-and-setting-compositions">
<h3>Getting and Setting Compositions<a class="headerlink" href="#getting-and-setting-compositions" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">x</span></code> method on <code class="docutils literal notranslate"><span class="pre">LiquidMixture</span></code>, and <code class="docutils literal notranslate"><span class="pre">y</span></code> on <code class="docutils literal notranslate"><span class="pre">GasMixture</span></code> can also be used to retrieve the mole fraction of one or both components:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([0.8, 0.8, 0.8, 0.8]),
 &#39;nitrogen&#39;: array([0.2, 0.2, 0.2, 0.2])}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.8, 0.8, 0.8, 0.8])
</pre></div>
</div>
</div>
</div>
</section>
<section id="exploring-features-of-the-mixture-objects">
<h3>Exploring Features of the Mixture Objects<a class="headerlink" href="#exploring-features-of-the-mixture-objects" title="Permalink to this heading">#</a></h3>
<section id="adding-and-removing-species">
<h4>Adding and Removing Species<a class="headerlink" href="#adding-and-removing-species" title="Permalink to this heading">#</a></h4>
<p>You can remove a species:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">remove_comp</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;nitrogen&#39;: nitrogen : &lt;openpnm.phase.StandardGas at 0x7f95da0ea4f0&gt;}
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>How a Component is Defined</strong></p>
<p>A species is considered a component of a mixture <em>if and only if</em> <code class="docutils literal notranslate"><span class="pre">'pore.mole_fraction.&lt;species.name&gt;'</span></code> appears in the mixture dictionary. Adding and removing the corresponding array from the dictionary is literally how the components are defined.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">del</span> <span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction.&#39;</span> <span class="o">+</span> <span class="n">n2</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
<span class="n">air</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{}
</pre></div>
</div>
</div>
</div>
<p>They can be readded in the same way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction.&#39;</span> <span class="o">+</span> <span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.21</span>
<span class="n">air</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: oxygen : &lt;openpnm.phase.StandardGas at 0x7f95da0d79a0&gt;}
</pre></div>
</div>
</div>
</div>
<p>But there is a specific method for this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">add_comp</span><span class="p">(</span><span class="n">n2</span><span class="p">,</span> <span class="n">mole_fraction</span><span class="o">=</span><span class="mf">0.79</span><span class="p">)</span>
<span class="n">air</span><span class="o">.</span><span class="n">components</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: oxygen : &lt;openpnm.phase.StandardGas at 0x7f95da0d79a0&gt;,
 &#39;nitrogen&#39;: nitrogen : &lt;openpnm.phase.StandardGas at 0x7f95da0ea4f0&gt;}
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-info-attribute">
<h4>The <code class="docutils literal notranslate"><span class="pre">info</span></code> Attribute<a class="headerlink" href="#the-info-attribute" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">info</span></code> attribute reports all the existing properties on the mixture (similar to <code class="docutils literal notranslate"><span class="pre">print</span></code>) but also of each of the components:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>══════════════════════════════════════════════════════════════════════════════
mixture_01 : &lt;openpnm.phase.StandardGasMixture at 0x7f95da0eac70&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature                                                    4 / 4
  3  pore.pressure                                                       4 / 4
  4  pore.heat_capacity                                                  4 / 4
  5  pore.thermal_conductivity                                           4 / 4
  6  pore.viscosity                                                      4 / 4
  7  pore.density                                                        4 / 4
  8  pore.mole_fraction.oxygen                                           4 / 4
  9  pore.mole_fraction.nitrogen                                         4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all                                                                4
  3  throat.all                                                              4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
Component Phases
══════════════════════════════════════════════════════════════════════════════
oxygen : &lt;openpnm.phase.StandardGas at 0x7f95da0d79a0&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature.oxygen                                             4 / 4
  3  pore.pressure.oxygen                                                4 / 4
  4  pore.heat_capacity_gas.oxygen                                       4 / 4
  5  pore.heat_capacity.oxygen                                           4 / 4
  6  pore.thermal_conductivity.oxygen                                    4 / 4
  7  pore.viscosity.oxygen                                               4 / 4
  8  pore.density.oxygen                                                 4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all.oxygen                                                         4
  3  throat.all.oxygen                                                       4
══════════════════════════════════════════════════════════════════════════════
nitrogen : &lt;openpnm.phase.StandardGas at 0x7f95da0ea4f0&gt;
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Properties                                                   Valid Values
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.temperature.nitrogen                                           4 / 4
  3  pore.pressure.nitrogen                                              4 / 4
  4  pore.heat_capacity_gas.nitrogen                                     4 / 4
  5  pore.heat_capacity.nitrogen                                         4 / 4
  6  pore.thermal_conductivity.nitrogen                                  4 / 4
  7  pore.viscosity.nitrogen                                             4 / 4
  8  pore.density.nitrogen                                               4 / 4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  #  Labels                                                 Assigned Locations
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
  2  pore.all.nitrogen                                                       4
  3  throat.all.nitrogen                                                     4
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
</section>
<section id="get-component-mole-fractions">
<h4>Get component mole fractions<a class="headerlink" href="#get-component-mole-fractions" title="Permalink to this heading">#</a></h4>
<p>You’ll notice that the mixture object has arrays called <code class="docutils literal notranslate"><span class="pre">'pore.mole_fraction.&lt;compname&gt;'</span></code> for each component. The dictionary look-up in OpenPNM will return a subdictionary if the given key is just <code class="docutils literal notranslate"><span class="pre">'pore.mole_fraction'</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([0.21, 0.21, 0.21, 0.21]),
 &#39;nitrogen&#39;: array([0.79, 0.79, 0.79, 0.79])}
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-components-attribute">
<h4>The <code class="docutils literal notranslate"><span class="pre">components</span></code> Attribute<a class="headerlink" href="#the-components-attribute" title="Permalink to this heading">#</a></h4>
<p>This attribute returns a dictionary with each of the components accessible by their name:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">air</span><span class="o">.</span><span class="n">components</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;oxygen&#39;, &#39;nitrogen&#39;])
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-get-comp-vals">
<h4>Using <code class="docutils literal notranslate"><span class="pre">get_comp_vals</span></code><a class="headerlink" href="#using-get-comp-vals" title="Permalink to this heading">#</a></h4>
<p>Since the mixture is made from several components, it is often desired get the values of a specific property from each component.  This method provides a convenient way to do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mus</span> <span class="o">=</span> <span class="n">air</span><span class="o">.</span><span class="n">get_comp_vals</span><span class="p">(</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mus</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([2.09391006e-05, 2.09391006e-05, 2.09391006e-05, 2.09391006e-05]), &#39;nitrogen&#39;: array([1.69779528e-05, 1.69779528e-05, 1.69779528e-05, 1.69779528e-05])}
</pre></div>
</div>
</div>
</div>
<p>It is also possible to retrieve the properteis of a component by asking the mixture and appending the component name, as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.viscosity.&#39;</span> <span class="o">+</span> <span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([2.09391006e-05, 2.09391006e-05, 2.09391006e-05, 2.09391006e-05])
</pre></div>
</div>
</div>
</div>
<p>In reality there is no array on <code class="docutils literal notranslate"><span class="pre">air</span></code> with the name <code class="docutils literal notranslate"><span class="pre">'pore.viscosity.phase_01'</span></code>, but failure to find this array is what actually triggers the look-up of the array from <code class="docutils literal notranslate"><span class="pre">o2</span></code>. This is a convenient feature that is added using some ‘syntactic sugar’ behind the scenes in Python.</p>
</section>
<section id="checking-consistency-with-check-mixture-health">
<h4>Checking consistency with <code class="docutils literal notranslate"><span class="pre">check_mixture_health</span></code><a class="headerlink" href="#checking-consistency-with-check-mixture-health" title="Permalink to this heading">#</a></h4>
<p>You can also check the health of the mixture, such as whether all the mole fractions add to 1.0 each each pore:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">air</span><span class="o">.</span><span class="n">check_mixture_health</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
Key                                 Value
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
mole_fraction_too_low               []
mole_fraction_too_high              []
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">y</span><span class="p">(</span><span class="n">o2</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">air</span><span class="o">.</span><span class="n">check_mixture_health</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
Key                                 Value
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
mole_fraction_too_low               (4,)
mole_fraction_too_high              []
――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――――
</pre></div>
</div>
</div>
</div>
</section>
<section id="retrieving-species-properties">
<h4>Retrieving Species Properties<a class="headerlink" href="#retrieving-species-properties" title="Permalink to this heading">#</a></h4>
<p>Lastly, the properties of the individual species can be retrieved from the mixture as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="o">.</span><span class="n">get_comp_vals</span><span class="p">(</span><span class="s1">&#39;pore.viscosity&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([2.09391006e-05, 2.09391006e-05, 2.09391006e-05, 2.09391006e-05]),
 &#39;nitrogen&#39;: array([1.69779528e-05, 1.69779528e-05, 1.69779528e-05, 1.69779528e-05])}
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-the-wildcard-syntax">
<h4>Using the wildcard (<code class="docutils literal notranslate"><span class="pre">*</span></code>) syntax<a class="headerlink" href="#using-the-wildcard-syntax" title="Permalink to this heading">#</a></h4>
<p>One more feature that has been added is the ability to fetch requested property arrays from <em>all</em> the components by replacing the component name with the universal <em>wildcard</em> symbmol: <code class="docutils literal notranslate"><span class="pre">*</span></code> as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">air</span><span class="p">[</span><span class="s1">&#39;pore.viscosity.*&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;oxygen&#39;: array([2.09391006e-05, 2.09391006e-05, 2.09391006e-05, 2.09391006e-05]),
 &#39;nitrogen&#39;: array([1.69779528e-05, 1.69779528e-05, 1.69779528e-05, 1.69779528e-05])}
</pre></div>
</div>
</div>
</div>
<p>Note that this returns exactly the same dictionary as the <code class="docutils literal notranslate"><span class="pre">get_comp_vals</span></code> method (in fact this function gets called behind the scenes), but this feature is offered for more than just convenience.  The main reason for supporting this feature is so that pore-scale models can be instructed to fetch the needed arrays for computing the mixture properties.  This is demonstrated in the following simple example of a custom mixture model:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mole_fraction_weighting</span><span class="p">(</span><span class="n">phase</span><span class="p">,</span> <span class="n">propname</span><span class="p">):</span>
    <span class="n">xs</span> <span class="o">=</span> <span class="n">phase</span><span class="p">[</span><span class="s1">&#39;pore.mole_fraction&#39;</span><span class="p">]</span>
    <span class="n">ys</span> <span class="o">=</span> <span class="n">phase</span><span class="p">[</span><span class="n">propname</span><span class="p">]</span>  <span class="c1"># This is the key step</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">xs</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">z</span> <span class="o">+=</span> <span class="n">xs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">ys</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">z</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">vals</span> <span class="o">=</span> <span class="n">mole_fraction_weighting</span><span class="p">(</span><span class="n">phase</span><span class="o">=</span><span class="n">air</span><span class="p">,</span> <span class="n">propname</span><span class="o">=</span><span class="s1">&#39;pore.viscosity.*&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.55064928e-05 1.55064928e-05 1.55064928e-05 1.55064928e-05]
</pre></div>
</div>
</div>
</div>
<p>The use of the <code class="docutils literal notranslate"><span class="pre">'.*'</span></code> as the suffix of the <code class="docutils literal notranslate"><span class="pre">propname</span></code> argument is crucial here.  As can be seen in the definition of <code class="docutils literal notranslate"><span class="pre">mole_fraction_weighting</span></code>, the call to <code class="docutils literal notranslate"><span class="pre">phase[propname]</span></code> passes <code class="docutils literal notranslate"><span class="pre">'pore.viscsoity.*'</span></code> directly to the dictionary lookup of values from <code class="docutils literal notranslate"><span class="pre">phase</span></code>, and this in turn triggers the retrieval of the <code class="docutils literal notranslate"><span class="pre">'pore.viscosity'</span></code> values from each component.</p>
<p>If we were to pass <code class="docutils literal notranslate"><span class="pre">'pore.viscosity'</span></code> then the function would throw an error since the call to <code class="docutils literal notranslate"><span class="pre">phase['pore.viscosity']</span></code> would return a single numpy array of viscosity values of the mixture (or not find any values at all).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Component Look-ups</strong></p>
<p>In summary, <code class="docutils literal notranslate"><span class="pre">air['pore.viscosity']</span></code> will fetch the viscosity of the mixture, while <code class="docutils literal notranslate"><span class="pre">air['pore.viscosity.oxygen']</span></code> will retrieve the values of viscosity from <code class="docutils literal notranslate"><span class="pre">o2</span></code>, and <code class="docutils literal notranslate"><span class="pre">air['pore.viscosity.*']</span></code> will fetch the viscosity from all the components and return them in a dictionary with each component name as the key.</p>
</div>
</section>
</section>
</section>
</section>


              </article>
              

              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2023, PMEAL.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>